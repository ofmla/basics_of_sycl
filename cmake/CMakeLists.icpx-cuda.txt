
cmake_minimum_required (VERSION 3.5)
set(CMAKE_CXX_COMPILER "icpx")

project(SyclNvptx64 CXX)

set(MY_CXX_FLAGS "-g -std=c++20 -O3 -Wall -Wextra -fno-fast-math -ffp-contract=fast -march=native -mtune=native")
set(MY_SYCL_FLAGS "-fsycl -fsycl-targets=spir64,nvptx64-nvidia-cuda")

set(COMPILE_FLAGS "${MY_CXX_FLAGS} ${MY_SYCL_FLAGS}")
set(LINK_FLAGS    "${MY_CXX_FLAGS} ${MY_SYCL_FLAGS}")

set(CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})

add_subdirectory (src)

